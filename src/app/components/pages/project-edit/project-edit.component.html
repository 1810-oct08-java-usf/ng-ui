<div>
 <div class="my-theme">
    <div>
      <button id="icon" mat-icon-button mat-stroked-button mat-button
                      (click)="back()">
                      <mat-icon>arrow_back</mat-icon>
                  </button>
      <h1 id="title" style="font-size:3vw">Edit Project</h1>
    </div>
    <form  #projectForm="ngForm" novalidate>
        <table class="example-full-width" cellspacing="5"><tr fxLayout="row wrap">
          <td fxFlex="50%" fxFlex.md="50%" fxFlex.sm="50%" fxFlex.xs="100%">
              <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Project Name</mat-label>
                  <mat-error *ngIf="!validForm">Project name is required</mat-error>
                <input (blur)="checkForValidField(name, batch, trainerName, description, techStack)" [(ngModel)]="projectToUpdate.name"
                       id="project_name" matInput name="projectName" placeholder="Project Name" type="text"
                       [ngModelOptions]="{standalone: true}" required #name="ngModel">
                </mat-form-field>
          </td>
          <td fxFlex="50%" fxFlex.md="50%" fxFlex.sm="50%" fxFlex.xs="100%">
              <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Batch Name</mat-label>
                  <mat-error *ngIf="!validForm">Batch name is required</mat-error>
                <input (blur)="checkForValidField(name, batch, trainerName, description, techStack)" name="batchName" type="text"
                       matInput placeholder="Batch Name" [(ngModel)]="projectToUpdate.batch" [ngModelOptions]="{standalone: true}" required #batch="ngModel">
                </mat-form-field>
          </td>
        </tr></table>


      <table class="example-full-width" cellspacing="5">
          <tr fxLayout="row wrap">
            <td fxFlex="50%" fxFlex.md="50%" fxFlex.sm="50%" fxFlex.xs="100%">
                <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Trainer Name</mat-label>
                    <mat-error *ngIf="!validForm">Trainer name is required</mat-error>
                  <input (blur)="checkForValidField(name, batch, trainerName, description, techStack)"
                         [(ngModel)]="projectToUpdate.trainer" matInput name="trainers" placeholder="Trainer Name" type="text"
                         [ngModelOptions]="{standalone: true}" required #trainerName="ngModel">
                  </mat-form-field>
            </td>
            <td fxFlex="50%" fxFlex.md="50%" fxFlex.sm="50%" fxFlex.xs="100%">

            <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Technology Stack</mat-label>
                <mat-error *ngIf="!validForm">Technology stack is required</mat-error>
              <mat-select
                #techStack="ngModel"
                [(ngModel)]="projectToUpdate.techStack"
                [ngModelOptions]="{standalone: true}" placeholder="Select Batch" required
                required #techStack="ngModel">
                  <mat-option *ngFor="let tech of techStackList" [value]="tech">
                    {{tech}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
          </td>
          </tr>
        </table>

        <table class="example-full-width" cellspacing="5"><tr fxLayout="row wrap">
            <td fxFlex="100%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                <mat-form-field class="example-full-width"  appearance="outline">
                        <mat-label>Description</mat-label>
                    <mat-error *ngIf="!validForm">Description is required</mat-error>
                  <textarea (blur)="checkForValidField(name, batch, trainerName, description, techStack)" [(ngModel)]="projectToUpdate.description"
                            matInput name="description" placeholder="Project Description"
                            [ngModelOptions]="{standalone: true}" #description="ngModel" required></textarea>
                  </mat-form-field>
            </td>
            </tr>
        </table>

          <!-- This exists only to stop the form propagation from hitting the buttons below, enter key was causing issues removing items from the groupmember array-->
          <div class="example-button-row" id="hideMePlease">
            <button mat-raised-button>Basic</button>
            <button mat-raised-button color="primary">Primary</button>
            <button mat-raised-button color="accent">Accent</button>
            <button mat-raised-button color="warn">Warn</button>
            <button disabled mat-raised-button>Disabled</button>
          </div>

          <div class = "marginDiv">
          <h3>Add a Group Member</h3>
          <mat-form-field>
            <mat-label>Add a Group Member</mat-label>
            <input matInput placeholder="Add Group Member" [(ngModel)]="groupMember" name="hello" (keydown.enter)="addGroupMember()" >
          </mat-form-field>


            <h3>Select a Group Member to Remove</h3>
          <span *ngFor = "let groupMember of this.projectToUpdate.groupMembers">
            <span>
             <button mat-raised-button (click)= "removeGroupMember($event)" >{{groupMember}}</button>
            </span>
          </span>
          </div>
            <br>
      <button (click)="submitForm()" [disabled]="(!name.valid) || (!batch.valid) || (!trainerName.valid) ||
          (!description.valid) || (!techStack.valid)" type="submit" id="submit-update" mat-flat-button color="accent">Update Project</button>
          <br>
          <br>
          <br>
          <br>
      <button (click)="deleteProject()" color="accent" id="submit" mat-flat-button>Delete Project</button>
          <br>
      <br>
        </form>

 </div>
</div>
