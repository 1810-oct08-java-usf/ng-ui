<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Application documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Application documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content pipe">
                   <div class="content-data">










<ol class="breadcrumb">
  <li>Pipes</li>
  <li>LexPipe</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">

        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>app/zip-file-explorer/lex.pipe.ts</code>
        </p>



        <section>
            <h3>Metadata</h3>
            <table class="table table-sm table-hover">
                <tbody>
                    <tr>
                        <td class="col-md-3">Name</td>
                        <td class="col-md-9">lex</td>
                    </tr>
                </tbody>
            </table>
        </section>

            <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="makeLex"></a>
                        <span class="name">
                            <b>
                            makeLex
                            </b>
                            <a href="#makeLex"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>makeLex()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">app/zip-file-explorer/lex.pipe.ts:66</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="parse"></a>
                        <span class="name">
                            <b>
                            parse
                            </b>
                            <a href="#parse"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>parse(dict: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, template: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">app/zip-file-explorer/lex.pipe.ts:48</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dict</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                                <tr>
                                                        <td>template</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="transform"></a>
                        <span class="name">
                            <b>
                            transform
                            </b>
                            <a href="#transform"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>transform(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, args?: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">app/zip-file-explorer/lex.pipe.ts:31</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>value</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                                <tr>
                                                        <td>args</td>
                                                        <td>
                                                                    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            Yes
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="lex"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            lex
                            </b>
                            <a href="#lex"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>lex:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" >Object</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" >Object</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new Object()</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">app/zip-file-explorer/lex.pipe.ts:13</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Pipe, PipeTransform } from &#x27;@angular/core&#x27;;
import { DomSanitizer } from &#x27;@angular/platform-browser&#x27;;

@Pipe({
  name: &#x27;lex&#x27;
})
  /*
  * Class Lex
  * A pipe to highlight input code into highlighted html
  * @author Andrew Mitchem (1810-Oct08-Java-USF)
  */
export class LexPipe implements PipeTransform {
  public lex: Object &#x3D; new Object();
    /*
  * Lex constructor
  * construct the lex();
  * @param DomSanitizer: used to notify angular that text is safe for innherhtml assignment
  * @author Andrew Mitchem (1810-Oct08-Java-USF)
  */
  constructor(private sanitizer: DomSanitizer) {
    this.makeLex();
  }
    /*
  * Lex.tranform(input)
  * the function called by the lexpipe
  * checks the lex for a binded property and parses the string based on that to assign tokens
  *
  * returns explicity sanitized bypassed strings for innerhtml.
  * @author Andrew Mitchem (1810-Oct08-Java-USF)
  */
  transform(value: string, args?: any): any {
   for (const lexDict in this.lex) {
    if (this.lex.hasOwnProperty(lexDict)) {
      value &#x3D; this.parse(lexDict, value);
    }
   }
   return this.sanitizer.bypassSecurityTrustHtml(value);
  }
  /*
  * Lex.parse(string,string)
  * simply calls replaced using the lext.  more contextual highlightning should parse the string
  * in stream till a valid token match
  *
  * @param dict: property reference of the lex object containing the regex for this replace
  * @param template: string to be parsed.
  * @author Andrew Mitchem (1810-Oct08-Java-USF)
  */
  parse(dict: string, template: string): string {
    return template.replace(this.lex[dict], dict);
  }
   /*
  * Lex.makeLex()
  * Initializes the lex();
  * property binds the object to have a string(&quot;token&quot;) and regex
  *
  * \$&amp; inside the token is the matched regex
  *
  * &amp;lt &amp;gt are escaped characters to render &lt;&gt; in html as they are reserve characters normal
  *
  * These must happen first
  *
  * the regex g field is to specify to parse all instances that match.
  *
  * @author Andrew Mitchem (1810-Oct08-Java-USF)
  */
  makeLex() {
      /* this &quot;lex&quot;-esqe is used to parse text and assign it a span &quot;token&quot;
      * sanizitation is a major concern in this code
      * high quality contextual highlighting can only be done with a full lex-bison esque parse
      * with the lex side sorting into tokens for the bison side to recombine into
      * a complete template tree with tokens snippets ( &lt;span [innertext]&#x3D;tokenvalue [class]&#x3D;tokentype&gt; )
      * only creating a token after matching or exhausting the lex matches
      *
      * the first noticable issue is &gt;token &lt; occurences. attempting to ignore them with
      * look ahead and lookbehind has had mixed results
      * moving to bison-esqu parser would relive this issue as we do not assign tokens additonal text which will
      * be matched later.
      *
      *
      *
      * *This currently does multiple passes matching one individual expression instead of poping
      * input and evaulating with lookahead/behind against the entire lex then and poping onto a stack
      * This causes a large majority of our concurrent editing issues though we also have to be mindful
      * of stream input at that point and consuming based on a token needs. this creates an issue where
      * tokens could match to previous created span elements. the lex-bison approach would solve this.
      *
      * uses css child selector to enforce certian element colors (ie for comments and strings)
      * by overwriting child elements (*) properites
      *
      * DO NOT REORDER THESE WITHOUT EXTENSIVE TESTING.
      *
      */
    this.lex[&#x27;&amp;lt&#x27;]                               &#x3D; /&lt;/g;
    // mild sanitization
    this.lex[&#x27;&amp;gt&#x27;]                               &#x3D; /&gt;/g;
    // ^--
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token1&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /[&#x3D;;{})(,:+-]|\!|\||\[|\]/gi;
    // this must be the first token generator as &#x3D; is inside the spans produce currently:
    // matches based symbol tokens( + &#x3D; ; { } )
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token13&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /\/\/.*/g;
    // this property matches comments (//) no support for /* */ ones
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token15&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /(import|package).*/g;
    // Simply selects imports/packages. doesn&#x27;t include items infront of them (i.e. Angular)
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token16&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /(?&lt;&#x3D;(class ))\w+/g;
    // simply selects words preceed by reserved token class uses lookahead
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token9&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /(?&lt;&#x3D;(public ))\w+/g;
    // simply selects tokens preceeded by reserved token public uses lookahead
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token10&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /(?&lt;&#x3D;(private ))\w+/g;
    // simply selects tokens preceeded by reserved token private.uses lookahead
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token11&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /(?&lt;&#x3D;(static ))\w+/g;
    // simply selects tokens preceeded by reserved token static uses lookahead
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token12&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /(?&lt;&#x3D;(protected ))\w+/g;
    // simply selects tokens preceeded by reserved token protected uses lookahead
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token2&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /public|private|protected|package/g;
    // simply selects reserved tokens public private protected package
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token3&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /(?&lt;!\w)(Integer|boolean|Boolean|int|String|Date|long|Long|byte|Byte|char|Char)(?!\w)/g;
    // simply selects reserved tokens for base types and wrapper classes  uses negative lookahead and negative lookbehind
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token4&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /(^(\s|\d){4})|((?&lt;&#x3D;\n&lt;\/span&gt;)(\s|\d){4})|(\n(\s|\d){4})/g;
    // simply selects the line numbers. checks for line numbers at start of text.
    // line numbers where a span clips the carriage return, and raw line numbers after carriage returns
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token5&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /@[\w\d]+/g;
    // simply selects @annotations and decorators
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token6&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /(?&lt;!\w)(if|for|new|return|void|extends|implements|console|System|else|try|catch)(?!\w)/g;
    //simply selects tokens that are reserved for flow control uses negative lookahead and lookbehind
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token7&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /(?&lt;!\w)(this|super|switch|null|case|default|throws)(?!\w)/g;
    // simply selects tokens that are reserved keywords (this|super|switch|null)
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token8&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]   &#x3D; /\.\w+/g;
    // simply selects tokens that are .operators. ie this.method()
    this.lex[&#x60;&lt;span class&#x3D;&#x27;token14&#x27;&gt;\$&amp;&lt;/span&gt;&#x60;]  &#x3D; /&quot;(?:[^&quot;\\]|\\.)*&quot;/g;
    // simply selects tokens that are strings. exludes escaped &quot;&quot; ie &quot;string&quot; &quot;string are made by \&quot; \&quot; &quot;
    // uses non capturing group with negative single character group to include \&quot; in the result
    // this particular regex expression is from stackoverflow.
  }
}
</code></pre>
    </div>

</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'pipe';
            var COMPODOC_CURRENT_PAGE_URL = 'LexPipe.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
